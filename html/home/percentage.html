<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Percentage</title>
    <link rel="stylesheet" href="/CSS/style.css">
</head>

<body>
    <header class="main_title_header">
        <h1 class="main_title">JavaScript 이것저것</h1>
        <nav class="main_nav">
            <ul>
                <li><a href="/index.html">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Another</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <article class="percentage_article">
            <p class="percentage_title">게이지 표시</p>
            <div class="percentage_article_input_wrap">
                <span id="invalid_range_number">* 0 ~ 100 사이의 숫자만 입력하세요!</span>
                <div>
                    <input id="input_percentage" type="number" min="0" max="100" placeholder="퍼센트를 적어주세요." vlaue="100">
                    <button id="change_percent" onclick="change()">수치 변경</button>
                </div>
            </div>
            <div id="percentage_entire">
                <div id="percentage_part">
                    <p id="gauge_quantity">100%</p>
                </div>
            </div>
            <p class="refer">*게이지 이동 시간 1s</p>
        </article>
    </main>

    <script>
        // 엔터키 클릭 시
        document.addEventListener("keyup", function (event) {
            if (event.keyCode == 13) {
                change();
            }
        });

        function change() {
            var percentagePart = document.getElementById("percentage_part");
            var inputVal = document.getElementById("input_percentage").value;
            
            // 숫자 입력 후 입력란 리셋
            input_percentage.value = "";

            // 숫자 범위 벗어났는지 확인 용도 -> 평소에 흰색
            document.getElementById("invalid_range_number").style.color = "white";

            // 0 ~ 100 사이 숫자
            if (inputVal > 100 || inputVal < 0 || inputVal == "") {
                // 범위 벗어 날 시 경고 -> 빨간색
                return invalid_range_number.style.color = "red";
            }

            // 게이지 몇퍼 인지 보여주기
            document.getElementById("gauge_quantity").innerText = inputVal + "%";

            // width 변경
            percentagePart.style.width = inputVal + "%";
            // 변경된 width로 1초동안 움직임
            percentagePart.style.transition = "width 1s";
        }

    </script>
</body>

</html>